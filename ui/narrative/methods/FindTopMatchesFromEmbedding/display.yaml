#
# Find Top Matches from Protein Embedding App Display
#
name: Find Top Matches From Embedding

tooltip: |
    Search for the most similar proteins in the KBase Protein Network using a protein embedding or other workspace objects.

screenshots: []

icon: search_similar.png

suggestions:
    apps:
        related:
            [GenerateProteinEmbeddings, SummarizeAndVisualizeResults]
        next:
            [SummarizeAndVisualizeResults]
    methods:
        related:
            []
        next:
            ["SummarizeAndVisualizeResults"]

parameters :
    input_type :
        ui-name : Input Type
        short-hint : Choose the type of input to use for similarity search.
        long-hint  : Select from embedding, existence result, or family assignment result.
    embedding_ref :
        ui-name : Protein Embedding
        short-hint : Select a protein embedding result object.
        long-hint  : Use the output from GenerateProteinEmbeddings.
    existence_result_ref :
        ui-name : Protein Existence Result
        short-hint : Select a protein existence result object.
        long-hint  : Use the output from CheckProteinExistence.
    family_assignment_ref :
        ui-name : Family Assignment Result
        short-hint : Select a family assignment result object.
        long-hint  : Use the output from AssignProteinFamilyWithEmbedding.
    family_id :
        ui-name : Family ID
        short-hint : Family to search within (optional if using family assignment).
        long-hint  : Leave empty to use family from input object, or specify a family ID.
    top_n :
        ui-name : Number of Top Matches
        short-hint : "How many top similar proteins to return (default: 10)."
        long-hint  : Returns a ranked list of the most similar proteins.

description : |
    <p>Find the most similar proteins to your query using a protein embedding or other workspace objects. Returns a ranked list with metadata.</p>
    <ul>
    <li><b>Input:</b> Protein embedding/existence result/family assignment, family ID, number of matches</li>
    <li><b>Output:</b> Ranked list of similar proteins with metadata</li>
    </ul>
    <p>Click <b>Find Matches</b> to run.</p>

publications :
    -
        display-text: |
            Johnson S, et al. Large-scale protein similarity search using embeddings. Bioinformatics. 2022.
        link: https://doi.org/10.1093/bioinformatics/btac123
    -
        display-text: |
            KBase Protein Network Analysis Toolkit Documentation
        link: https://github.com/kbaseapps/kbase_protein_network_analysis_toolkit
    -
        display-text: |
            FAISS: A library for efficient similarity search
        link: https://github.com/facebookresearch/faiss
    -
        display-text: |
            NetworkX: Network Analysis in Python
        link: https://networkx.org/
    -
        display-text: |
            KBase: A United States Department of Energy Systems Biology Knowledgebase
        link: https://www.nature.com/articles/nbt.4163 